# 代码分析


### 基本功能

1. 根据传入配置，扫描出需要检测的目录下的所有符合的文件，整理到文件合集
2. 遍历文件合集，将每一份文件代码转换成 AST
3. 遍历 AST，找到所有的 import 导入
4. 遍历 AST，对比收集到的 import 节点信息，分析 API 调用
5. 根据第四步两种情况，进行 API 调用分析
6. 改造为插件式架构，将 API 分析，抽离成插件
7. 分析不是 import 导入的 API，比如全局 API
8. 处理 VUE 项目
9. 对收集到的 API 信息，进行整理
   - 代码评分
   - 代码告警
   - 脏调用检测
10. 生成分析报告
   - 实例化代码分析基础类，执行代码分析，生成分析报告
   - 分析报告可视化（html 页面形式展示）
11. 打包成 npm 包，发布
   - API 形式（方便集成到各个系统）
   - CLI 形式
12. 实现一个第三方分析插件，接入代码分析项目中
13. 接入到流水线 CI 中，实现自动化分析及拦截
14. 微前端全应用分析实践



### 扩展功能

1. 异常日志
2. 接入 AI
   - AI 生成插件（控制台命令行式）
   - AI 可视化（可视化生成插件、调试、发布等）
3. 支持更多的形式
   - webpack 插件
   - rollup 插件
   - ...
